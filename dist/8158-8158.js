"use strict";(self.webpackChunknextcloud=self.webpackChunknextcloud||[]).push([[8158],{48158:(e,t,n)=>{n.d(t,{default:()=>b});var o=n(85471),i=n(21777),r=n(53334),s=n(3226),a=n(89675);const l=(0,o.pM)({__name:"FilesHeaderNoteToRecipient",setup(e,t){let{expose:n}=t;const l=(0,o.KR)(),d=(0,o.EW)((()=>{var e,t;return null!==(e=null===(t=l.value)||void 0===t?void 0:t.attributes.note)&&void 0!==e?e:""})),p=(0,o.EW)((()=>{var e,t;return null!==(e=null===(t=l.value)||void 0===t?void 0:t.attributes["owner-display-name"])&&void 0!==e?e:""})),u=(0,o.EW)((()=>{var e,t;const n=null===(e=l.value)||void 0===e?void 0:e.owner;return n!==(null===(t=(0,i.HW)())||void 0===t?void 0:t.uid)?{id:n,displayName:p.value}:null}));function c(e){l.value=e}return n({updateFolder:c}),{__sfc:!0,folder:l,note:d,displayName:p,user:u,updateFolder:c,t:r.t,NcNoteCard:s.A,NcUserBubble:a.N}}});var d=n(85072),p=n.n(d),u=n(97825),c=n.n(u),A=n(77659),m=n.n(A),v=n(55056),f=n.n(v),_=n(10540),C=n.n(_),N=n(41113),h=n.n(N),g=n(96921),x={};x.styleTagTransform=h(),x.setAttributes=f(),x.insert=m().bind(null,"head"),x.domAPI=c(),x.insertStyleElement=C(),p()(g.A,x),g.A&&g.A.locals&&g.A.locals;const b=(0,n(14486).A)(l,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return n.note.length>0?t(n.NcNoteCard,{staticClass:"note-to-recipient",attrs:{type:"info"}},[n.displayName?t("p",{staticClass:"note-to-recipient__heading"},[e._v("\n\t\t"+e._s(n.t("files_sharing","Note from"))+"\n\t\t"),t(n.NcUserBubble,{attrs:{user:n.user.id,"display-name":n.user.displayName}})],1):t("p",{staticClass:"note-to-recipient__heading"},[e._v("\n\t\t"+e._s(n.t("files_sharing","Note:"))+"\n\t")]),e._v(" "),t("p",{staticClass:"note-to-recipient__text",domProps:{textContent:e._s(n.note)}})]):e._e()}),[],!1,null,"940664e0",null).exports},96921:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(71354),i=n.n(o),r=n(76314),s=n.n(r)()(i());s.push([e.id,"\n.note-to-recipient[data-v-940664e0] {\n\tmargin-inline: var(--row-height)\n}\n.note-to-recipient__text[data-v-940664e0] {\n\t/* respect new lines */\n\twhite-space: pre-line;\n}\n.note-to-recipient__heading[data-v-940664e0] {\n\tfont-weight: bold;\n}\n@media screen and (max-width: 512px) {\n.note-to-recipient[data-v-940664e0] {\n\t\tmargin-inline: var(--default-grid-baseline);\n}\n}\n","",{version:3,sources:["webpack://./apps/files_sharing/src/views/FilesHeaderNoteToRecipient.vue"],names:[],mappings:";AAsDA;CACA;AACA;AAEA;CACA,sBAAA;CACA,qBAAA;AACA;AAEA;CACA,iBAAA;AACA;AAEA;AACA;EACA,2CAAA;AACA;AACA",sourcesContent:["\x3c!--\n  - SPDX-FileCopyrightText: 2024 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n--\x3e\n<template>\n\t<NcNoteCard v-if=\"note.length > 0\"\n\t\tclass=\"note-to-recipient\"\n\t\ttype=\"info\">\n\t\t<p v-if=\"displayName\" class=\"note-to-recipient__heading\">\n\t\t\t{{ t('files_sharing', 'Note from') }}\n\t\t\t<NcUserBubble :user=\"user.id\" :display-name=\"user.displayName\" />\n\t\t</p>\n\t\t<p v-else class=\"note-to-recipient__heading\">\n\t\t\t{{ t('files_sharing', 'Note:') }}\n\t\t</p>\n\t\t<p class=\"note-to-recipient__text\" v-text=\"note\" />\n\t</NcNoteCard>\n</template>\n\n<script setup lang=\"ts\">\nimport type { Folder } from '@nextcloud/files'\nimport { getCurrentUser } from '@nextcloud/auth'\nimport { t } from '@nextcloud/l10n'\nimport { computed, ref } from 'vue'\n\nimport NcNoteCard from '@nextcloud/vue/dist/Components/NcNoteCard.js'\nimport NcUserBubble from '@nextcloud/vue/dist/Components/NcUserBubble.js'\n\nconst folder = ref<Folder>()\nconst note = computed<string>(() => folder.value?.attributes.note ?? '')\nconst displayName = computed<string>(() => folder.value?.attributes['owner-display-name'] ?? '')\nconst user = computed(() => {\n\tconst id = folder.value?.owner\n\tif (id !== getCurrentUser()?.uid) {\n\t\treturn {\n\t\t\tid,\n\t\t\tdisplayName: displayName.value,\n\t\t}\n\t}\n\treturn null\n})\n\n/**\n * Update the current folder\n * @param newFolder the new folder to show note for\n */\nfunction updateFolder(newFolder: Folder) {\n\tfolder.value = newFolder\n}\n\ndefineExpose({ updateFolder })\n<\/script>\n\n<style scoped>\n.note-to-recipient {\n\tmargin-inline: var(--row-height)\n}\n\n.note-to-recipient__text {\n\t/* respect new lines */\n\twhite-space: pre-line;\n}\n\n.note-to-recipient__heading {\n\tfont-weight: bold;\n}\n\n@media screen and (max-width: 512px) {\n\t.note-to-recipient {\n\t\tmargin-inline: var(--default-grid-baseline);\n\t}\n}\n</style>\n"],sourceRoot:""}]);const a=s}}]);
//# sourceMappingURL=8158-8158.js.map?v=f1731b0d6e11858925e1